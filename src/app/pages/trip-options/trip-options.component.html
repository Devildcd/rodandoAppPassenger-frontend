<ion-header>
  <ion-toolbar mode="ios">
    <ion-buttons slot="start">
      <ion-button color="medium" (click)="cancel()">
        <ion-icon slot="icon-only" name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title color="primary">Nuevo Viaje</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="page-content ion-padding">
  <!-- Origen y Destino -->
  <div class="field-group">
    <div class="header-title">
              <span>Ubicaciones</span>
            </div>
    <ion-item lines="none" class="field-item">
      <ion-icon name="navigate" slot="start"></ion-icon>
      <ion-input
        label="Origen"
        label-placement="floating"
        fill="outline"
        placeholder="Origen"
        [(ngModel)]="origin">
      </ion-input>
      <ion-button fill="clear" size="small" slot="end" *ngIf="origin" (click)="origin=''">
        <ion-icon name="close-circle" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-item>

    <ion-item lines="none" class="field-item">
      <ion-icon name="location" slot="start"></ion-icon>
      <ion-input
        label="Destino"
        label-placement="floating"
        fill="outline"
        placeholder="Destino"
        [(ngModel)]="destination"
        #modalInput>
      </ion-input>
      <ion-button fill="clear" size="small" slot="end" *ngIf="destination" (click)="destination=''">
        <ion-icon name="close-circle" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-item>
  </div>

  <div class="actions-container">
  <!-- Paradas dinámicas -->
  <div class="add-stop-row">
    <div class="add-stop-left">
      <div class="icon-wrapper">
        <ion-icon name="add-outline"></ion-icon>
      </div>
      <span class="label">Añadir parada</span>
    </div>
  </div>

  <!-- Botón Mapa -->
  <ion-item class="map-container" lines="none" button>
    <div class="icon-wrapper">
      <ion-icon name="map-outline"></ion-icon>
    </div>
    <ion-label class="map-label">Localizar en el mapa</ion-label>
  </ion-item>
</div>

   <!-- Selector de Lugares -->
          <div class="vehicle-chip-list">
             <div class="header-title">
              <span>Lugares</span>
            </div>
            <ion-chip *ngFor="let v of vehicleTypes" [outline]="v.value !== selectedVehicle"
              [color]="v.value === selectedVehicle ? 'primary' : undefined" (click)="selectVehicle(v.value)">
              <ion-icon [name]="v.icon" slot="start"></ion-icon>
              <ion-label>{{ v.label }}</ion-label>
            </ion-chip>
          </div>

<!-- Lista Ubicaciones -->
<ion-list class="location-list">
  <ion-item lines="none" class="location-item" button>
    <div class="icon-circle">
      <ion-icon name="trending-up-outline"></ion-icon>
    </div>
    <ion-label>Casa</ion-label>
  </ion-item>
  <ion-item lines="none" class="location-item" button>
    <div class="icon-circle">
      <ion-icon name="trending-up-outline"></ion-icon>
    </div>
    <ion-label>Casa</ion-label>
  </ion-item>
  <ion-item lines="none" class="location-item" button>
    <div class="icon-circle">
      <ion-icon name="trending-up-outline"></ion-icon>
    </div>
    <ion-label>Trabajo</ion-label>
  </ion-item>
</ion-list>

  <!-- Confirmar Viaje -->
  <ion-button expand="block" class="btn-confirm" (click)="confirm()">
    ¡Vamos!
    <ion-icon name="rocket-outline"></ion-icon>
  </ion-button>

  <app-trip-details #tripDetail></app-trip-details>
</ion-content>
